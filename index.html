<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FocusFlow | To-Do Tracker</title>

<style>
/* ===== GLOBAL ===== */
:root{
  --primary:#4e9af1;
  --transition:0.3s ease;
}
*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:'Poppins',sans-serif;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  transition:var(--transition);
  background:linear-gradient(135deg,#e3f2fd,#f9f9f9);
  color:#222;
}
.dark{
  background:linear-gradient(135deg,#121212,#1a1a1a);
  color:#eee;
}

/* ===== HEADER ===== */
header{
  position:relative;
  backdrop-filter:blur(10px);
  background:rgba(255,255,255,0.2);
  border-bottom:1px solid rgba(255,255,255,0.2);
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:15px 20px;
}
header.dark{background:rgba(0,0,0,0.4);}
.menu-icon{font-size:24px;cursor:pointer;}
.menu-dropdown{
  position:absolute;
  top:60px;
  left:20px;
  background:rgba(255,255,255,0.15);
  backdrop-filter:blur(15px);
  border-radius:10px;
  display:none;
  flex-direction:column;
  min-width:180px;
  z-index:10;
  animation:fadeIn 0.3s ease;
}
.menu-dropdown.show{display:flex;}
.menu-dropdown button{
  background:transparent;
  border:none;
  padding:10px;
  color:inherit;
  text-align:left;
  cursor:pointer;
  transition:var(--transition);
}
.menu-dropdown button:hover{background:rgba(255,255,255,0.2);}

/* ===== AUTH ===== */
#auth-container{
  display:flex;
  justify-content:center;
  align-items:center;
  flex:1;
}
.auth-card{
  background:rgba(255,255,255,0.2);
  backdrop-filter:blur(20px);
  border-radius:20px;
  padding:40px;
  box-shadow:0 8px 25px rgba(0,0,0,0.1);
  text-align:center;
  width:320px;
  animation:fadeIn 0.5s ease;
}
.auth-card input{
  width:100%;
  padding:10px;
  margin-top:10px;
  border-radius:8px;
  border:1px solid #ccc;
  outline:none;
  transition:var(--transition);
}
.auth-card input:focus{border-color:var(--primary);}
.auth-card button{
  background:var(--primary);
  border:none;
  padding:10px 15px;
  border-radius:8px;
  color:white;
  font-weight:600;
  margin-top:15px;
  cursor:pointer;
  transition:var(--transition);
}
.auth-card button:hover{opacity:0.9;}
.toggle-auth{
  color:var(--primary);
  background:none;
  border:none;
  cursor:pointer;
  margin-top:10px;
}
.password-wrapper{
  position:relative;
}
.show-password{
  position:absolute;
  right:12px;
  top:50%;
  transform:translateY(-50%);
  cursor:pointer;
  font-size:14px;
  opacity:0.7;
}
.show-password:hover{opacity:1;}

/* ===== MAIN ===== */
main{
  flex:1;
  padding:20px;
  display:none;
}
main.show{display:block;animation:fadeIn 0.5s ease;}
h1{text-align:center; margin-bottom:20px;}

/* ===== TASK INPUT ===== */
.task-input{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  justify-content:center;
  margin-bottom:20px;
}
.task-input input, .task-input select{
  padding:10px;
  border-radius:8px;
  border:1px solid #ccc;
}
#add-btn{
  background:var(--primary);
  color:white;
  border:none;
  border-radius:8px;
  padding:10px 15px;
  cursor:pointer;
  transition:var(--transition);
}
#add-btn:hover{opacity:0.9;}

/* ===== TASK LIST ===== */
#task-list{
  list-style:none;
  padding:0;
  max-width:700px;
  margin:auto;
}
.task-card{
  background:rgba(255,255,255,0.4);
  backdrop-filter:blur(15px);
  border-radius:15px;
  padding:10px 15px;
  margin-bottom:12px;
  display:flex;
  flex-direction:column;
  border-left:4px solid transparent;
  transition:var(--transition);
  animation:fadeIn 0.5s ease;
}
.task-card.high{border-left-color:red;}
.task-card.medium{border-left-color:orange;}
.task-card.low{border-left-color:blue;}
.task-card.completed{border-left-color:#95E1D3;opacity:0.7;}
.task-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.task-actions button{
  margin-left:5px;
  border:none;
  background:none;
  cursor:pointer;
}
.notes{
  margin-top:8px;
  display:none;
  font-size:0.9em;
  transition:var(--transition);
}
.notes.show{display:block;}

/* ===== FOOTER ===== */
footer{
  background:rgba(255,255,255,0.3);
  backdrop-filter:blur(15px);
  text-align:center;
  padding:10px;
  font-size:14px;
  border-top:1px solid rgba(255,255,255,0.2);
  position:sticky;
  bottom:0;
  width:100%;
}
.dark footer{background:rgba(0,0,0,0.4);}

/* ===== ANIMATIONS ===== */
@keyframes fadeIn{
  from{opacity:0; transform:translateY(10px);}
  to{opacity:1; transform:translateY(0);}
}
</style>
</head>
<body>

<header>
  <div class="menu-icon" id="menu-btn">‚ò∞</div>
  <h2>FocusFlow</h2>
  <div id="datetime"></div>

  <div class="menu-dropdown" id="menu-dropdown">
    <button id="dark-toggle">üåô Dark/Light Mode</button>
    <button id="logout-btn">üö™ Log Out</button>
  </div>
</header>

<!-- AUTH -->
<div id="auth-container">
  <div class="auth-card">
    <h2 id="auth-title">Sign In</h2>
    <div class="password-wrapper">
      <input type="text" id="username" placeholder="Username" />
    </div>
    <div class="password-wrapper">
      <input type="password" id="password" placeholder="Password" />
      <span class="show-password" id="toggle-password">üëÅ Show</span>
    </div>
    <button id="login-btn">Login</button>
    <button class="toggle-auth" id="switch-auth">Create an Account</button>
  </div>
</div>

<!-- MAIN -->
<main id="main-container">
  <h1>Stay organized, stay calm ‚ú®</h1>
  <div class="task-input">
    <input type="text" id="task-input" placeholder="Task title..." />
    <input type="date" id="due-date" />
    <select id="category">
      <option value="Work">Work</option>
      <option value="Personal">Personal</option>
      <option value="Urgent">Urgent</option>
    </select>
    <select id="priority">
      <option value="none">Priority: None</option>
      <option value="low">Low</option>
      <option value="medium">Medium</option>
      <option value="high">High</option>
    </select>
    <button id="add-btn">Add Task</button>
  </div>
  <ul id="task-list"></ul>
</main>

<footer>¬© 2025 FocusFlow ‚Ä¢ Productive Minds</footer>

<script>
// ===== Date/Time =====
function updateDateTime() {
  const now = new Date();
  document.getElementById('datetime').innerText = now.toLocaleString();
}
setInterval(updateDateTime,1000);
updateDateTime();

// ===== AUTH =====
const authContainer = document.getElementById("auth-container");
const mainContainer = document.getElementById("main-container");
const loginBtn = document.getElementById("login-btn");
const switchAuth = document.getElementById("switch-auth");
const authTitle = document.getElementById("auth-title");
const togglePassword = document.getElementById("toggle-password");

let isSignUp=false;
switchAuth.onclick=()=>{
  isSignUp=!isSignUp;
  authTitle.innerText=isSignUp?"Sign Up":"Sign In";
  loginBtn.innerText=isSignUp?"Sign Up":"Login";
  switchAuth.innerText=isSignUp?"Already have an account?":"Create an Account";
};
togglePassword.onclick=()=>{
  const pass=document.getElementById("password");
  pass.type=pass.type==="password"?"text":"password";
  togglePassword.innerText=pass.type==="password"?"üëÅ Show":"üôà Hide";
};
loginBtn.onclick=()=>{
  const user=document.getElementById("username").value.trim();
  const pass=document.getElementById("password").value.trim();
  if(!user||!pass)return alert("Fill all fields!");
  if(isSignUp){
    localStorage.setItem("user",JSON.stringify({user,pass,tasks:[]}));
    alert("Account created! Please login.");
    isSignUp=false;switchAuth.click();
  }else{
    const stored=JSON.parse(localStorage.getItem("user"));
    if(stored&&stored.user===user&&stored.pass===pass){
      authContainer.style.display="none";
      mainContainer.classList.add("show");
      tasks=stored.tasks||[];
      renderTasks();
    }else alert("Invalid credentials!");
  }
};

// ===== MENU =====
const menuBtn=document.getElementById("menu-btn");
const menuDropdown=document.getElementById("menu-dropdown");
const darkToggle=document.getElementById("dark-toggle");
const logoutBtn=document.getElementById("logout-btn");
menuBtn.onclick=()=>menuDropdown.classList.toggle("show");
darkToggle.onclick=()=>document.body.classList.toggle("dark");
logoutBtn.onclick=()=>{
  mainContainer.classList.remove("show");
  authContainer.style.display="flex";
  menuDropdown.classList.remove("show");
};

// ===== TASKS =====
let tasks=[];
const taskInput=document.getElementById('task-input');
const addBtn=document.getElementById('add-btn');
const taskList=document.getElementById('task-list');
const category=document.getElementById('category');
const priority=document.getElementById('priority');
const dueDate=document.getElementById('due-date');

function saveTasks(){
  localStorage.setItem('tasks',JSON.stringify(tasks));
  renderTasks();
}

function renderTasks(){
  taskList.innerHTML='';
  tasks.sort((a,b)=>{const order={high:1,medium:2,low:3,none:4};return order[a.priority]-order[b.priority];});
  tasks.forEach((t,i)=>{
    const li=document.createElement('li');
    li.className=`task-card ${t.priority} ${t.completed?'completed':''}`;
    li.innerHTML=`
      <div class="task-header">
        <strong>${t.text}</strong>
        <div class="task-actions">
          <button onclick="toggleComplete(${i})">‚úî</button>
          <button onclick="editTask(${i})">‚úèÔ∏è</button>
          <button onclick="deleteTask(${i})">üóë</button>
          <button onclick="toggleNotes(${i})">üìù</button>
        </div>
      </div>
      <small>${t.category} ‚Ä¢ ${t.due||''}</small>
      <div class="notes" id="notes-${i}">${t.notes||'No notes'}</div>
    `;
    li.style.borderLeftColor=
      t.category==='Work'?'#FF6B6B':
      t.category==='Personal'?'#4ECDC4':
      t.category==='Urgent'?'#FFD93D':
      '#95E1D3';
    taskList.appendChild(li);
  });
}

function addTask(){
  const text=taskInput.value.trim();
  if(!text)return alert("Enter a task title!");
  const note=prompt("Add notes for this task (optional, 500 char max):","");
  tasks.push({
    text,
    category:category.value,
    priority:priority.value,
    due:dueDate.value,
    notes:note?note.substring(0,500):'',
    completed:false
  });
  taskInput.value='';
  saveTasks();
}
function deleteTask(i){tasks.splice(i,1); saveTasks();}
function toggleComplete(i){tasks[i].completed=!tasks[i].completed; saveTasks();}
function editTask(i){
  const newText=prompt("Edit task:",tasks[i].text);
  if(newText) tasks[i].text=newText;
  const newNote=prompt("Edit notes:",tasks[i].notes);
  if(newNote) tasks[i].notes=newNote.substring(0,500);
  saveTasks();
}
function toggleNotes(i){
  document.getElementById(`notes-${i}`).classList.toggle('show');
}

addBtn.onclick=addTask;
taskInput.addEventListener('keypress',e=>{if(e.key==='Enter') addTask();});
</script>
</body>
</html>
